#### 垃圾回收

##### 内存分配

- 当程序需要内存时，会从内存池中分配，程序执行完成后，内存会还给内存池

##### 垃圾回收

- 垃圾：以后不能被运行程序再使用的对象
- 垃圾回收是Java平台的一部分，有一个低优先级的守护线程负责回收垃圾
- 算法：
  - 引用计数法
  - 跟踪法

##### 调用垃圾回收期器

- `System.gc()`
- `Runtime.getRuntime().gc()`
- 不建议程序调用此方法

##### 对象终结

- 终结(Finalization)：对象使用的内存在垃圾回收前在对象上自动执行的操作
- Object上的方法：
  - `protected void finalize() throws Throwable`

##### 引用的类型

- 强引用
  - 是指创建一个对象并把这个对象赋给一个引用变量
  - 引用变量指向时永远不会被垃圾回收。即使内存不足的时候
- 软引用
  - 当系统内存充足时和强引用没有多大区别，但内存不足时会回收软引用的对象
- 弱引用
  - 具有很强的不确定性。因为垃圾回收每次都会回收弱引用的对象
- 虚引用
  - 和没有任何引用一样，在任何时候都可能被垃圾回收
  - 虚引用必须和引用队列 (ReferenceQueue) 联合使用
  - 作用是就跟踪对象被垃圾回收的

